# ============================================
# CLUBE NAVI - CONFIGURAÇÃO CENTRALIZADA
# ============================================
# Este arquivo centraliza TODAS as variáveis de ambiente.
# Copiar para .env e ajustar valores.

# ============================================
# GERAL
# ============================================
NODE_ENV=development
PORT=4000

# URLs
API_URL=http://localhost:4000
ADMIN_URL=http://localhost:3000

# ============================================
# DATABASE (PostgreSQL) - MULTI-TENANT
# ============================================

# Master Database (gerencia tenants)
DB_HOST=localhost
DB_PORT=5432
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres_password
MASTER_DATABASE_URL=postgresql://postgres:postgres_password@localhost:5432/clube_digital_master?schema=public

# Tenant Databases (dinâmico - configurado por tenant)
# Esta variável é setada dinamicamente pelo sistema
# Não precisa configurar manualmente
TENANT_DATABASE_URL=postgresql://tenant_user:tenant_pass@localhost:5432/tenant_db?schema=public

# Legacy Database (será migrado para multi-tenant)
DB_USER=clube_digital_user
DB_PASSWORD=clube_digital_password
DB_NAME=clube_digital_db
DATABASE_URL=postgresql://clube_digital_user:clube_digital_password@localhost:5432/clube_digital_db?schema=public

# Database Pool Settings
DB_DIALECT=postgres
DB_POOL_MAX=20
DB_POOL_MIN=5
DB_POOL_ACQUIRE=30000
DB_POOL_IDLE=10000

# ============================================
# REDIS
# ============================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_URL=redis://localhost:6379

# ============================================
# RABBITMQ
# ============================================
RABBITMQ_URL=amqp://guest:guest@localhost:5672
RABBITMQ_HOST=localhost
RABBITMQ_PORT=5672
RABBITMQ_USER=guest
RABBITMQ_PASSWORD=guest
RABBITMQ_DEFAULT_USER=guest
RABBITMQ_DEFAULT_PASS=guest

# ============================================
# JWT / AUTH
# ============================================
# Chave para assinar access tokens (64 caracteres hex)
JWT_SECRET=1dbe2489ad1e57530b103d71d7007ad34e17a3239a90c0cfa9007cbcab6859f75c9d2cd12f08a95a9c23428466e1e6f25c5c33cd818889d7c63d5eedf4c88f50

# Chave para assinar refresh tokens (64 caracteres hex)
JWT_REFRESH_SECRET=fcc6bfe048be1150bc5d7a09efec40fd12d596164ec15bf6a9f4b81e7817b86a0bbefe3bec3588e9645db79a77f5e7c1d3b1c3e9d123533ffdd0a3fc7602632f

# Tempo de expiração dos tokens
JWT_ACCESS_EXPIRY=15m
JWT_REFRESH_EXPIRY=7d
JWT_EXPIRATION=15m
REFRESH_TOKEN_EXPIRATION=7d

# Chave para tokens temporários de 2FA (64 caracteres hex)
JWT_TEMP_SECRET=8a1b3c4d5e6f7890abcdef1234567890fedcba0987654321abcdef1234567890fedcba0987654321abcdef1234567890fedcba0987654321abcdef1234567890

# Tempo de expiração do token temporário
JWT_TEMP_EXPIRY=10m

# NextAuth (Admin Dashboard)
NEXTAUTH_URL=http://localhost:3000
NEXTAUTH_SECRET=your-nextauth-secret-change-in-production-min-32-chars-long-xyz

# ========================================
# CONFIGURAÇÃO DA BLOCKCHAIN AZORE
# ========================================
# Mainnet
MAINNET_RPC_URL=https://rpc-mainnet.azore.technology
MAINNET_CHAIN_ID=8800

# Testnet
TESTNET_RPC_URL=https://rpc-testnet.azore.technology
TESTNET_CHAIN_ID=88001

# Rede padrão para desenvolvimento
DEFAULT_NETWORK=testnet

# URLs dos exploradores Azorescan
MAINNET_EXPLORER_URL=https://azorescan.com
TESTNET_EXPLORER_URL=https://floripa.azorescan.com

# APIs dos exploradores Azorescan
MAINNET_EXPLORER_API=https://azorescan.com/api
TESTNET_EXPLORER_API=https://floripa.azorescan.com/api
MASTER_WALLET_PRIVATE_KEY=

# ============================================
# PAYMENT GATEWAY
# ============================================
STRIPE_SECRET_KEY=
STRIPE_WEBHOOK_SECRET=

# ============================================
# CLOUD STORAGE (AWS S3)
# ============================================
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_REGION=us-east-1
AWS_S3_BUCKET=clube-digital-assets

# ============================================
# EXTERNAL APIs
# ============================================
GOOGLE_MAPS_API_KEY=

# ============================================
# EMAIL (SendGrid)
# ============================================
SENDGRID_API_KEY=
FROM_EMAIL=noreply@clubedigital.com.br

# ============================================
# SMS (Twilio)
# ============================================
TWILIO_ACCOUNT_SID=
TWILIO_AUTH_TOKEN=
TWILIO_PHONE_NUMBER=

# ============================================
# SECURITY
# ============================================
# Chave de 32 caracteres para criptografia AES-256-GCM
ENCRYPTION_KEY=ac3054cd10587ce500613e7efbe8de4d56e483420b5ef90ceca3ef91bf80d6a1
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# ============================================
# CONFIGURAÇÃO DE ADMIN PADRÃO
# ============================================
DEFAULT_ADMIN_EMAIL=admin@clubedigital.com.br
DEFAULT_ADMIN_PASSWORD=Admin@2025
ADMIN_NAME=Administrador
ADMIN_EMAIL=admin@clubedigital.com.br
ADMIN_CPF=00000000000
ADMIN_PHONE=00000000000
ADMIN_BIRTH_DATE=1990-01-01

# ============================================
# CONFIGURAÇÃO DE LOGS
# ============================================
# Nível de log (debug, info, warn, error)
LOG_LEVEL=info

# Desabilitar logs de console em produção (true/false)
DISABLE_CONSOLE_LOGS=false

# ============================================
# AWS S3 CONFIGURATION
# ============================================
# AWS Credentials
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_REGION=sa-east-1

# S3 Bucket Configuration
AWS_S3_BUCKET=clube-digital-assets
S3_BUCKET_NAME=clube-digital-assets
S3_BUCKET_REGION=sa-east-1

# S3 Folders/Prefixes
S3_PROFILE_PHOTOS_PREFIX=profile-photos/
S3_COMPANY_LOGOS_PREFIX=company-logos/
S3_BRANDING_ASSETS_PREFIX=branding/
S3_DOCUMENTS_PREFIX=documents/

# S3 URLs (opcional - se usar CloudFront ou domínio customizado)
S3_CDN_URL=
S3_PUBLIC_URL=https://clube-digital-assets.s3.sa-east-1.amazonaws.com

# S3 Upload Settings
S3_MAX_FILE_SIZE=5242880
# 5MB em bytes (5 * 1024 * 1024)
S3_ALLOWED_IMAGE_TYPES=image/jpeg,image/jpg,image/png,image/gif,image/webp
S3_ALLOWED_DOCUMENT_TYPES=application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document

# S3 Access Control
S3_ACL=public-read
# Options: private, public-read, public-read-write, authenticated-read

# ============================================
# CONFIGURAÇÃO DE EMAIL
# ============================================
# Provedor de email (mandrill, mailersend, mock, gmail, sendgrid)
EMAIL_PROVIDER=mock

# Mandrill (Mailchimp Transactional)
MANDRILL_API_KEY=
MANDRILL_FROM_EMAIL=noreply@clubedigital.com.br
MANDRILL_FROM_NAME=Clube Navi

# MailerSend
MAILERSEND_API_TOKEN=
MAILERSEND_FROM_EMAIL=noreply@clubedigital.com.br
MAILERSEND_FROM_NAME=Clube Navi

# Gmail SMTP (para testes)
GMAIL_USER=
GMAIL_PASS=
GMAIL_FROM_NAME=Clube Navi Test

# SendGrid
SENDGRID_API_KEY=
FROM_EMAIL=noreply@clubedigital.com.br

# ============================================
# CONFIGURAÇÃO PIX
# ============================================
# PROVEDOR PRINCIPAL: EFI PAY (com fallback para Asaas)
PIX_PROVIDER=mock
PIX_FALLBACK_PROVIDER=asaas
DEFAULT_DEPOSIT_FEE=3.00
PIX_EXPIRATION_MINUTES=30

# true se desenvolvimento e false se produção
USE_PIX_MOCK=true

# ============================================
# EFI PAY (GERENCIANET) - PROVEDOR PRINCIPAL
# ============================================
EFI_CLIENT_ID=
EFI_CLIENT_SECRET=

# Produção
# EFI_CERTIFICATE_PATH=./certificates/producao-clube-digital.p12
# EFI_WEBHOOK_URL=https://api.clubedigital.com.br/api/webhooks/efi/pix

# Desenvolvimento
EFI_CERTIFICATE_PATH=./certificates/homologacao-clube-digital.pem
EFI_WEBHOOK_URL=http://localhost:4000/api/webhooks/efi/pix

EFI_PIX_KEY=
EFI_SANDBOX=true

# ============================================
# ASAAS PIX - PROVEDOR DE BACKUP
# ============================================
# Sandbox
# ASAAS_API_KEY=$aact_hmlg_YOUR_SANDBOX_KEY

# Produção
ASAAS_API_KEY=
ASAAS_WEBHOOK_TOKEN=

# URL da API Asaas
# Sandbox: https://sandbox.asaas.com/api/v3
# Produção: https://www.asaas.com/api/v3
PIX_API_URL=https://sandbox.asaas.com/api/v3
ASAAS_API_URL=https://sandbox.asaas.com/api/v3

# URL do Webhook
# Desenvolvimento: http://localhost:4000/api/webhooks/asaas
# Produção: https://api.clubedigital.com.br/api/webhooks/asaas
ASAAS_WEBHOOK_URL=http://localhost:4000/api/webhooks/asaas

# ============================================
# PAYMENT GATEWAY (Stripe)
# ============================================
STRIPE_SECRET_KEY=
STRIPE_WEBHOOK_SECRET=

# ============================================
# SMS (Twilio)
# ============================================
TWILIO_ACCOUNT_SID=
TWILIO_AUTH_TOKEN=
TWILIO_PHONE_NUMBER=

# ============================================
# WHITELABEL (Mobile)
# ============================================
WHITELABEL_SLUG=clube-digital

# ============================================
# MOBILE APP (Expo)
# ============================================
EAS_PROJECT_ID=
EXPO_PUBLIC_API_URL=http://localhost:4000
